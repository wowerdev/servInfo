(() => {
    function Rating() {
        const context = this,
            arrList = document.querySelectorAll(".legend__list"),
            arrBtn = document.querySelectorAll(".legend__menu-btn"),
            mainSection = document.querySelector(".legend__section"),
            typeText = document.querySelector(".legend__subtitle span");
        this.closeAll = function() {
            arrList.forEach(it => it.classList.remove("active"));
            arrBtn.forEach(it => it.classList.remove("active"));
        }
        this.setActive = function(e) {
            e.preventDefault();
            const elem = e.currentTarget;
            context.closeAll();
            elem.classList.add("active");
            mainSection.querySelector(`ul[data-type="${elem.dataset.type}"]`).classList.add("active");
            typeText.textContent = elem.textContent;
        }

        function init() {
            context.closeAll();
            const btn = document.querySelector(".legend__menu-btn"),
                list = document.querySelector(`ul[data-type="${btn.dataset.type}"]`);
            btn.classList.add("active");
            list.classList.add("active");
            typeText.textContent = btn.textContent;

        }
        arrBtn.forEach(it => {
            it.addEventListener("click", this.setActive);
        });
        init();
    }
    const top = new Rating;
    // top.closeAll();
})();